{"version":3,"file":"static/js/657.5671c6bd.chunk.js","mappings":"qNAyEA,UA9DyB,WAAO,IAAD,IACvBA,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACTC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,EAAM,oBAAGJ,EAASK,aAAZ,aAAG,EAAgBC,YAAnB,QAA2B,IAEvC,GAA0BC,EAAAA,EAAAA,UAAS,CAAC,GAApC,eAAOC,EAAP,KAAcC,EAAd,KAEQC,EAAuDF,EAAvDE,MAAOC,EAAgDH,EAAhDG,SAAUC,EAAsCJ,EAAtCI,aAAcC,EAAwBL,EAAxBK,OAAQC,EAAgBN,EAAhBM,YAM/C,OAJAC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,IAAed,EAASO,GAAUQ,MAAMC,QAAQC,MACjD,GAAE,CAACjB,KAGF,6BACE,mBAAQkB,QAAS,kBAAMtB,EAASM,EAAQ,CAAEiB,SAAS,GAAlC,EAAjB,sBAGA,yBACGP,GACC,gBACEQ,IAAG,yCAAoCR,GACvCS,IAAG,oBAAeb,MAGpB,gBACEY,IAAK,+BACLC,IAAG,mBAIT,4BACE,wBAAKb,KACL,yCAAgC,GAAfE,GAAmBY,QAAQ,GAA5C,QACA,sCACA,uBAAIb,KACJ,oCACA,8BAAIE,QAAJ,IAAIA,OAAJ,EAAIA,EAAQY,KAAI,qBAAGC,KAAkB,IAArB,UAElB,4BACE,oDACA,2BACE,yBACE,SAAC,KAAD,CAAMC,GAAE,OAAUtB,MAAOL,EAASK,MAAlC,qBAIF,yBACE,SAAC,KAAD,CAAMsB,GAAE,UAAatB,MAAOL,EAASK,MAArC,2BAKJ,SAAC,EAAAuB,SAAD,CAAUC,UAAU,SAAC,IAAD,IAApB,UACE,SAAC,KAAD,WAKT,C,2MCrEKC,EAAU,mCACVC,EAAW,gCAIXC,EAAiB,mCAAG,WAAMC,GAAN,gGAECC,IAAAA,IAAA,UAClBH,EADkB,sCACoBD,IAHrB,cAEhBK,EAFgB,yBAMfF,EAAUE,EAASC,KAAKC,UANT,gCAQtBnB,QAAQoB,IAAR,UAAe,KAAMZ,KAArB,aAA8B,KAAMa,UARd,yDAAH,sDAcjBvB,EAAc,mCAAG,WAAOd,EAASO,GAAhB,gGAEIyB,IAAAA,IAAA,UAClBH,EADkB,iBACD7B,EADC,oBACkB4B,EADlB,oBAFJ,cAEbK,EAFa,yBAMZ1B,EAAS0B,EAASC,OANN,gCAQnBlB,QAAQoB,IAAR,UAAe,KAAMZ,KAArB,aAA8B,KAAMa,UARjB,yDAAH,wDAcdC,EAAc,mCAAG,WAAOtC,EAASuC,GAAhB,gGAEIP,IAAAA,IAAA,UAClBH,EADkB,iBACD7B,EADC,4BAC0B4B,EAD1B,oBAFJ,cAEbK,EAFa,yBAMZM,EAAQN,EAASC,KAAKM,OANV,gCAQnBxB,QAAQoB,IAAR,UAAe,KAAMZ,KAArB,aAA8B,KAAMa,UARjB,yDAAH,wDAcdI,EAAiB,mCAAG,WAAOzC,EAAS0C,GAAhB,gGAECV,IAAAA,IAAA,UAClBH,EADkB,iBACD7B,EADC,4BAC0B4B,EAD1B,oBAFD,cAEhBK,EAFgB,yBAMfS,EAAWT,EAASC,KAAKC,UANV,gCAQtBnB,QAAQoB,IAAR,UAAe,KAAMZ,KAArB,aAA8B,KAAMa,UARd,yDAAH,wDAcjBM,EAAiB,mCAAG,WAAOC,EAAOC,GAAd,gGAECb,IAAAA,IAAA,UAClBH,EADkB,gCACcD,EADd,kBAC+BgB,EAD/B,gCAFD,cAEhBX,EAFgB,yBAKfY,EAAkBZ,EAASC,KAAKC,UALjB,gCAOtBnB,QAAQoB,IAAR,UAAe,KAAMZ,KAArB,aAA8B,KAAMa,UAPd,yDAAH,uD","sources":["pages/MovieDetailsPage/MovieDetailsPage.jsx","services/apiSupport.js"],"sourcesContent":["import React, { useState, useEffect, Suspense } from 'react';\nimport {\n  useLocation,\n  useNavigate,\n  useParams,\n  Link,\n  Outlet,\n} from 'react-router-dom';\nimport { fetchMovieById } from 'services/apiSupport';\nimport Loader from 'components/Loader/Loader';\n\nconst MovieDetailsPage = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { movieId } = useParams();\n  const backTo = location.state?.from ?? '/';\n\n  const [movie, setMovie] = useState({});\n\n  const { title, overview, vote_average, genres, poster_path } = movie;\n\n  useEffect(() => {\n    fetchMovieById(movieId, setMovie).catch(console.error);\n  }, [movieId]);\n\n  return (\n    <main>\n      <button onClick={() => navigate(backTo, { replace: true })}>\n        Go back\n      </button>\n      <div>\n        {poster_path ? (\n          <img\n            src={`https://image.tmdb.org/t/p/w500${poster_path}`}\n            alt={`Poster of ${title}`}\n          />\n        ) : (\n          <img\n            src={'https://placehold.co/500x750'}\n            alt={`Placeholder`}\n          />\n        )}\n      </div>\n      <div>\n        <h1>{title}</h1>\n        <p>User Score: {(vote_average * 10).toFixed(0)}%</p>\n        <h2>Overwiew</h2>\n        <p>{overview}</p>\n        <h2>Genres</h2>\n        <p>{genres?.map(({ name }) => name + ', ')}</p>\n      </div>\n      <div>\n        <h3>Additional information</h3>\n        <ul>\n          <li>\n            <Link to={`cast`} state={location.state}>\n              Cast\n            </Link>\n          </li>\n          <li>\n            <Link to={`reviews`} state={location.state}>\n              Reviews\n            </Link>\n          </li>\n        </ul>\n        <Suspense fallback={<Loader />}>\n          <Outlet />\n        </Suspense>\n      </div>\n    </main>\n  );\n};\n\nexport default MovieDetailsPage;\n","import axios from 'axios';\n\nconst API_KEY = '34b039d9928c0cbb29ba3089b029dd2e';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\n// fetching function for the most popular movies of the day\n\nconst fetchTrendyMovies = async setMovies => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}trending/movie/day?api_key=${API_KEY}`\n    );\n\n    return setMovies(response.data.results);\n  } catch (error) {\n    console.log(`${error.name}: ${error.message}`);\n  }\n};\n\n// fetching function the movie by id\n\nconst fetchMovieById = async (movieId, setMovie) => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}movie/${movieId}?api_key=${API_KEY}&language=en-US`\n    );\n\n    return setMovie(response.data);\n  } catch (error) {\n    console.log(`${error.name}: ${error.message}`);\n  }\n};\n\n// fetching characters in the movie by the id of the movie\n\nconst fetchMovieCast = async (movieId, setCast) => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n    );\n\n    return setCast(response.data.cast);\n  } catch (error) {\n    console.log(`${error.name}: ${error.message}`);\n  }\n};\n\n// fetching reviews about the movie by the id of the movie\n\nconst fetchMovieReviews = async (movieId, setReviews) => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US`\n    );\n\n    return setReviews(response.data.results);\n  } catch (error) {\n    console.log(`${error.name}: ${error.message}`);\n  }\n};\n\n// fetching the movies by query\n\nconst fetchMovieByQuery = async (query, setSearchedMovies) => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}search/movie?api_key=${API_KEY}&query=${query}&page=1&include_adult=false`\n    );\n    return setSearchedMovies(response.data.results);\n  } catch (error) {\n    console.log(`${error.name}: ${error.message}`);\n  }\n};\n\nexport {\n  fetchMovieById,\n  fetchTrendyMovies,\n  fetchMovieCast,\n  fetchMovieReviews,\n  fetchMovieByQuery,\n};\n"],"names":["navigate","useNavigate","location","useLocation","movieId","useParams","backTo","state","from","useState","movie","setMovie","title","overview","vote_average","genres","poster_path","useEffect","fetchMovieById","catch","console","error","onClick","replace","src","alt","toFixed","map","name","to","Suspense","fallback","API_KEY","BASE_URL","fetchTrendyMovies","setMovies","axios","response","data","results","log","message","fetchMovieCast","setCast","cast","fetchMovieReviews","setReviews","fetchMovieByQuery","query","setSearchedMovies"],"sourceRoot":""}